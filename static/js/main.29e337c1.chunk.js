(this["webpackJsonpmovie-trivia"]=this["webpackJsonpmovie-trivia"]||[]).push([[0],{33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},50:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var c=a(2),s=a.n(c),n=a(37),r=a.n(n),i=(a(50),a(9)),o=a(5),l=a(32),u=a(38),j=a(11),d=a.n(j),b=a(18),h=a(16),m=a(22);a(65),a(52),a(66);m.a.initializeApp({apiKey:"AIzaSyBTLMtYYJFBeYUdluBj5URZOGAh5F4LE6Y",authDomain:"matching-movie-pairs-8ee49.firebaseapp.com",projectId:"matching-movie-pairs-8ee49",storageBucket:"matching-movie-pairs-8ee49.appspot.com",messagingSenderId:"586533732749",appId:"1:586533732749:web:e6035660beb4c16b75fdc4",measurementId:"G-MXVV55B5YS"}),m.a.analytics();var p=m.a.auth(),O=m.a.firestore(),x=a(1),v=Object(c.createContext)(),f=function(e){var t=e.children,a=Object(c.useState)(null),s=Object(h.a)(a,2),n=s[0],r=s[1],i=function(){var e=Object(b.a)(d.a.mark((function e(t,a,c){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.createUserWithEmailAndPassword(t,a);case 3:p.onAuthStateChanged((function(e){r(e)})),c.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a,c){return e.apply(this,arguments)}}(),o=function(){var e=Object(b.a)(d.a.mark((function e(t,a,c){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.signInWithEmailAndPassword(t,a);case 3:p.onAuthStateChanged((function(e){return r(e)})),c.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a,c){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){p.onAuthStateChanged(r)}),[]),Object(x.jsx)(v.Provider,{value:{signup:i,login:o,logout:function(){p.signOut().then().catch((function(e){return alert(e)}))},currentUser:n},children:t})},g=(a(33),a.p+"static/media/movie-tickets.d9e077c3.png"),N=Object(o.e)((function(e){var t=e.history,a=Object(c.useContext)(v).login;return Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"login",children:[Object(x.jsxs)("div",{className:"logoContainer",children:[Object(x.jsx)("img",{className:"movieicon",src:g,alt:"logo"}),Object(x.jsx)("p",{className:"main-title",children:"Matching Movie"}),Object(x.jsx)("p",{className:"main-title",children:"Pairs"})]}),Object(x.jsx)("h1",{children:"LOGIN"}),Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault();var c=e.target.elements,s=c.email,n=c.password;a(s.value,n.value,t)},children:[Object(x.jsx)("label",{className:"labels",children:"Email"}),Object(x.jsx)("input",{name:"email",type:"email",placeholder:"Email"}),Object(x.jsx)("label",{className:"labels",children:"Password"}),Object(x.jsx)("input",{name:"password",type:"password",placeholder:"Password"}),Object(x.jsx)("button",{className:"btn btn-primary btn-block btn-large",type:"submit",children:"Log in"})]}),Object(x.jsx)("button",{className:"createBtn",children:Object(x.jsx)(i.b,{to:"/signup",className:"createLink",children:"Create Your New Account"})})]})})})),y=["component"],S=function(e){var t=e.component,a=Object(u.a)(e,y),s=Object(c.useContext)(v).currentUser?t:N;return Object(x.jsx)(o.a,Object(l.a)(Object(l.a)({},a),{},{component:s}))},C=Object(c.createContext)(),k=function(e){var t=e.children,a=Object(c.useContext)(v).currentUser,s=Object(c.useState)([]),n=Object(h.a)(s,2),r=n[0],i=n[1],o=function(){var e=Object(b.a)(d.a.mark((function e(t){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return e.next=3,O.collection("users").doc(t.uid).collection("recordData").get();case 3:a=e.sent,c=[],a.forEach(function(){var e=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.data();case 2:a=e.sent,c.push(a),c.sort((function(e,t){return t.total-e.total}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i(c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){o(a)}),[a]),Object(x.jsx)(C.Provider,{value:{recordData:r,addNewRecord:function(e,t,a,c,s){O.collection("users").doc(s.uid).collection("recordData").add({time:e,attempts:t,accuracy:a,total:c})},getAllRecords:o},children:t})},w=(a(63),a(34),function(){var e=Object(c.useState)(28),t=Object(h.a)(e,2),a=t[0],s=t[1];return Object(x.jsxs)("div",{id:"home",children:[Object(x.jsx)("div",{className:"title-space",children:Object(x.jsxs)("div",{className:"logoContainer",children:[Object(x.jsx)("img",{className:"movieicon",src:g,alt:"logo"}),Object(x.jsx)("p",{className:"main-title",children:"Matching Movie"}),Object(x.jsx)("p",{className:"main-title",children:"Pairs"})]})}),Object(x.jsxs)("div",{className:"welcome-comment",children:[Object(x.jsx)("h3",{className:"welcome-title",children:"Welcome to Matching Movie Pairs"}),Object(x.jsx)("p",{children:"How to play"}),Object(x.jsxs)("p",{className:"left-side",children:["Step 1 : Select your favourite movie genre.",Object(x.jsx)("br",{}),"Step 2 : Press Start Button.",Object(x.jsx)("br",{}),"Step 3 : Click and find right movie pairs."]}),Object(x.jsx)("p",{children:"When you complete, you will see your score in status"}),Object(x.jsx)("p",{children:"Enjoy!"})]}),Object(x.jsxs)("div",{className:"select-start",children:[Object(x.jsx)("label",{className:"genreTxt",htmlFor:"genres",children:"Select a genre to play with"}),Object(x.jsx)("div",{className:"box",children:Object(x.jsxs)("select",{onChange:function(e){s(e.target.value)},children:[Object(x.jsx)("option",{value:"28",children:"Action"}),Object(x.jsx)("option",{value:"12",children:"Adventure"}),Object(x.jsx)("option",{value:"16",children:"Animation"}),Object(x.jsx)("option",{value:"35",children:"Comedy"}),Object(x.jsx)("option",{value:"80",children:"Crime"}),Object(x.jsx)("option",{value:"99",children:"Documentary"}),Object(x.jsx)("option",{value:"18",children:"Drama"}),Object(x.jsx)("option",{value:"10751",children:"Family"}),Object(x.jsx)("option",{value:"14",children:"Fantasy"}),Object(x.jsx)("option",{value:"36",children:"History"}),Object(x.jsx)("option",{value:"27",children:"Horror"}),Object(x.jsx)("option",{value:"10402",children:"Music"}),Object(x.jsx)("option",{value:"9648",children:"Mystery"}),Object(x.jsx)("option",{value:"10749",children:"Romance"}),Object(x.jsx)("option",{value:"878",children:"Science"}),Object(x.jsx)("option",{value:"878",children:"Fiction"}),Object(x.jsx)("option",{value:"53",children:"Thriller"}),Object(x.jsx)("option",{value:"10770",children:"TV Movie"}),Object(x.jsx)("option",{value:"10752",children:"War"}),Object(x.jsx)("option",{value:"37",children:"Western"})]})}),Object(x.jsx)(i.b,{to:"/game/"+a,className:"btn-gradient-3d-orange",children:"START"})]})]})}),M=Object(o.e)((function(e){var t=e.history,a=Object(c.useContext)(v).signup;return Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"login",children:[Object(x.jsxs)("div",{className:"logoContainer",children:[Object(x.jsx)("img",{className:"movieicon",src:g,alt:"logo"}),Object(x.jsx)("p",{className:"main-title",children:"Matching Movie"}),Object(x.jsx)("p",{className:"main-title",children:"Pairs"})]}),Object(x.jsx)("h1",{children:"SIGNUP"}),Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault();var c=e.target.elements,s=c.email,n=c.password;a(s.value,n.value,t)},children:[Object(x.jsx)("label",{className:"labels",children:"Email"}),Object(x.jsx)("input",{name:"email",type:"email",placeholder:"Email"}),Object(x.jsx)("label",{className:"labels",children:"Password"}),Object(x.jsx)("input",{name:"password",type:"password",placeholder:"Password"}),Object(x.jsx)("button",{className:"btn btn-primary btn-block btn-large",type:"submit",children:"Sign Up"})]}),Object(x.jsx)("button",{className:"createBtn",children:Object(x.jsx)(i.b,{to:"/login",className:"createLink",children:"Go back to Login"})})]})})})),A=function(){var e=Object(c.useContext)(v).logout;return Object(x.jsxs)("div",{className:"navbar",children:[Object(x.jsx)(i.c,{to:"/",exact:!0,children:"Home"}),Object(x.jsx)(i.c,{to:"/game",exact:!0,children:"Game"}),Object(x.jsx)(i.c,{to:"/status",exact:!0,children:"Status"}),Object(x.jsx)("button",{className:"btn",type:"submit",onClick:function(){e()},children:"Log Out"})]})},P=a(27),T=a(41),I=a(42),D=a(43),E=a(45),B=a(44),U=(a(35),function(e){var t="card card-back",a="front";switch(e.matchStatus){case 1:a="back";break;case 2:a="back matched";break;case 3:a="back unmached";break;default:t="card card-front"}return Object(x.jsx)("button",{className:t,onClick:function(){e.checkMatch(e.value,e.id)},children:Object(x.jsx)("div",{className:a,children:Object(x.jsx)("img",{className:"imgStyle",src:"https://image.tmdb.org/t/p/original/".concat(e.value),alt:"movie"})})})}),F=function(e){var t=Object(c.useContext)(v).currentUser,a=Object(c.useContext)(C).addNewRecord,s=Object(c.useState)(null),n=Object(h.a)(s,2),r=n[0],o=n[1],l=function(){var t=e.time,a=e.attempts,c=e.accuracy,s=0,n=0,r=0;s=t<=100&&t>=70?2*t:t<70&&t>=40?1.5*t:1.25*t,n=a>=10&&a<=13?2.75*a:a>13&&a<=17?1.75*a:1.25*a,r=c>=65?2.5*c:c<65&&c>=40?2*c:1.5*c;var i=Math.ceil(s+n+r);return i};return Object(c.useEffect)((function(){o(l),null!==r&&t&&a(e.time,e.attempts,e.accuracy,r,t)}),[r]),Object(x.jsxs)("div",{className:"scoreContainer",children:[Object(x.jsx)("p",{className:"scoreTitle",children:e.title}),Object(x.jsxs)("p",{className:"score",children:[Object(x.jsx)("span",{className:"scoreDetail",id:"timeColor",children:"TIME"}),Object(x.jsxs)("span",{className:"scoreNumber",children:[e.time,"/100"]})]}),Object(x.jsxs)("p",{className:"score",children:[Object(x.jsx)("span",{className:"scoreDetail",id:"attemptColor",children:"ATTEMPTS"}),Object(x.jsxs)("span",{className:"scoreNumber",children:[e.attempts,"/10 min"]})]}),Object(x.jsxs)("p",{className:"score",children:[Object(x.jsx)("span",{className:"scoreDetail",id:"accuracyColor",children:"ACCURACY"}),Object(x.jsxs)("span",{className:"scoreNumber",children:[e.accuracy,"%/100%"]})]}),Object(x.jsx)("hr",{}),Object(x.jsxs)("p",{className:"score",children:[Object(x.jsx)("span",{className:"scoreDetail",children:"TOTAL"}),Object(x.jsxs)("span",{className:"scoreNumber",children:[l(),"pt"]})]}),Object(x.jsx)("button",{className:"playAgain",onClick:function(){window.location.reload()},children:"Play Again"}),Object(x.jsx)("button",{className:"scores",children:Object(x.jsx)(i.b,{to:"/status",className:"scoreLink",children:"Scores"})})]})},L=function(e){Object(E.a)(a,e);var t=Object(B.a)(a);function a(){var e;Object(I.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={genre:28,movieImgs:[],initialCards:[],matchStatus:Array(20).fill(0),cardStatus:-1,message:"",count:100,timer:null,title:"",run:!1,overlay:"overlay",record:{attempts:0,clicks:0,corrects:0,accuracy:0},showScore:!1},e.fetchMoviePics=Object(b.a)(d.a.mark((function t(){var a,c,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Math.floor(501*Math.random()),t.next=3,fetch("https://api.themoviedb.org/3/discover/movie?api_key=8afb33342826c0533464840a6694a7df&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=".concat(a,"&without_genres=").concat(e.state.genre,"&with_watch_monetization_types=flatrate"));case 3:return c=t.sent,t.next=6,c.json();case 6:return s=t.sent,t.abrupt("return",s.results);case 8:case"end":return t.stop()}}),t)}))),e.combinedUrls=function(t){var a=t.slice(0,10),c=(a+","+a).split(",");return(c=e.shuffle(c)).map((function(e){return e}))},e.shuffle=function(e){for(var t=Object(T.a)(e).slice(0),a=t.length-1;a>=0;a--){var c=Math.floor(Math.random()*(a+1)),s=[t[c],t[a]];t[a]=s[0],t[c]=s[1]}return t},e.checkMatch=function(t,a){var c=e.state.matchStatus.slice(),s=e.state.record.corrects;if(0===e.state.matchStatus[a]){var n=e.state.run;if(n){var r=-1,i="",o="",l="";if(-2!==e.state.cardStatus){if(-1===e.state.cardStatus)c[a]=1,r=a;else if(e.state.cardStatus!==a)if(c[a]=1,e.state.initialCards[e.state.cardStatus]===t)i="Matched!",c[e.state.cardStatus]=2,c[a]=2,s+=2,e.isFinish(c)?(i="",n=!1,o="Congratulations!",l="overlay overlay-end",clearInterval(e.state.timer),e.setState({showScore:!0})):setTimeout((function(){e.cardClear()}),1e3);else{i="Unmatched!",r=-2,c[e.state.cardStatus]=3,c[a]=3;var u=e.state.matchStatus.slice();u[e.state.cardStatus]=0,u[a]=0,setTimeout((function(){e.cardClear(),e.cardReset(u)}),1e3)}e.addRecord(s),e.setState({matchStatus:c,cardStatus:r,message:i,run:n,title:o,overlay:l})}}}},e.gameStart=function(){if(!e.state.run){var t=setInterval((function(){return e.countDown()}),1e3);e.setState({timer:t,run:!0,overlay:""})}},e.cardReset=function(t){e.setState({matchStatus:t,cardStatus:-1})},e.cardClear=function(){e.setState({message:""})},e.isFinish=function(e){for(var t=!0,a=0;a<e.length;a++)if(2!==e[a]){t=!1;break}return t},e.countDown=function(){var t=e.state.count-1;t<1?(e.setState({message:"",count:0,run:!1,title:"Game Over",overlay:"overlay overlay-end"}),clearInterval(e.state.timer)):e.setState({count:t})},e.addRecord=function(t){var a=e.state.record.clicks+1,c=Math.floor(a/2),s=Math.ceil((20-(20-t))/2),n=Math.floor(s?s/c*100:0);e.setState({record:{clicks:a,attempts:c,corrects:t,accuracy:n}})},e.renderCards=function(t,a){return e.state.movieImgs.length===e.state.initialCards.length?t.map((function(t,c){return Object(x.jsx)(U,{value:t,id:c,matchStatus:a[c],checkMatch:e.checkMatch},c)})):Object(x.jsx)("h1",{children:"Loading"})},e}return Object(D.a)(a,[{key:"componentDidMount",value:function(){var e=Object(b.a)(d.a.mark((function e(){var t,a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.location.pathname.split("/")[2],this.setState({genre:t}),e.next=4,this.fetchMoviePics();case 4:e.sent.map((function(e){null!==e.poster_path&&a.setState({movieImgs:[].concat(Object(P.a)(a.state.movieImgs),[e.poster_path])})})),this.setState({initialCards:this.combinedUrls(this.state.movieImgs)});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.record,t=e.attempts,a=e.accuracy;return Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"status-container",children:[Object(x.jsx)("button",{className:"start-button",onClick:this.gameStart,children:"Game Start"}),Object(x.jsxs)("div",{className:"count-number",children:["Time: ",this.state.count]}),Object(x.jsxs)("div",{className:"gameStatus",children:["Attempts: ",t]}),Object(x.jsxs)("div",{className:"gameStatus",children:["Accuracy: ",a,"%"]})]}),Object(x.jsxs)("div",{className:"table",children:[this.renderCards(this.state.initialCards,this.state.matchStatus),Object(x.jsx)("div",{className:this.state.overlay,children:Object(x.jsx)("p",{className:"title",children:this.state.title})})]}),this.state.showScore?Object(x.jsx)(F,{time:this.state.count,attempts:t,accuracy:a,title:this.state.title}):Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"gameStatus",children:this.state.title})})]})}}]),a}(c.Component),R=(a(36),function(e){var t;switch(e.index+1){case 1:t="gold";break;case 2:t="silver";break;case 3:t="bronze";break;default:t="others"}return Object(x.jsxs)("tr",{className:t,children:[Object(x.jsx)("td",{children:e.index+1}),Object(x.jsx)("td",{children:e.data.time}),Object(x.jsx)("td",{children:e.data.attempts}),Object(x.jsx)("td",{children:e.data.accuracy}),Object(x.jsx)("td",{children:e.data.total})]})}),_=function(){var e=Object(c.useContext)(C).recordData,t=Object(c.useState)([]),a=Object(h.a)(t,2),s=a[0],n=a[1];Object(c.useEffect)((function(){n(e)}),[e]);var r=function(t){var a=t.target.value,c=e.sort((function(e,t){return t[a]-e[a]}));n(Object(P.a)(c))};return Object(x.jsx)("div",{children:Object(x.jsx)("table",{className:"recordTable",children:Object(x.jsxs)("tbody",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Rank"}),Object(x.jsxs)("th",{children:["Time ",Object(x.jsx)("button",{className:"triangleBtn",value:"time",onClick:r,children:"\u25bc"})]}),Object(x.jsxs)("th",{children:["Attempts ",Object(x.jsx)("button",{className:"triangleBtn",value:"attempts",onClick:r,children:"\u25bc"})]}),Object(x.jsxs)("th",{children:["Accuracy ",Object(x.jsx)("button",{className:"triangleBtn",value:"accuracy",onClick:r,children:"\u25bc"})]}),Object(x.jsxs)("th",{children:["Total ",Object(x.jsx)("button",{className:"triangleBtn",value:"total",onClick:r,children:"\u25bc"})]})]}),s.map((function(e,t){return Object(x.jsx)(R,{data:e,index:t})}))]})})})},G=function(){return Object(x.jsx)(f,{children:Object(x.jsx)(k,{children:Object(x.jsxs)(i.a,{basename:"/MatchingMoviePairs",children:[Object(x.jsx)(A,{}),Object(x.jsx)(S,{exact:!0,path:"/",component:w}),Object(x.jsx)(o.a,{exact:!0,path:"/login",component:N}),Object(x.jsx)(o.a,{exact:!0,path:"/signup",component:M}),Object(x.jsx)(o.a,{path:"/game",component:L}),Object(x.jsx)(o.a,{exact:!0,path:"/status",component:_})]})})})},Y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,67)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),c(e),s(e),n(e),r(e)}))};r.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(G,{})}),document.getElementById("root")),Y()}},[[64,1,2]]]);
//# sourceMappingURL=main.29e337c1.chunk.js.map